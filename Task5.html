<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Premium Weather</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:Segoe UI;
}

body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    background:linear-gradient(135deg,#667eea,#764ba2);
    color:white;
}

/* ðŸŒ¬ Animated Wind Waves */
body::before{
    content:"";
    position:absolute;
    width:200%;
    height:200%;
    background:radial-gradient(circle at 30% 30%, rgba(255,255,255,0.2), transparent 40%),
               radial-gradient(circle at 70% 70%, rgba(255,255,255,0.15), transparent 40%);
    animation:moveWaves 12s linear infinite;
}

@keyframes moveWaves{
    0%{transform:translateX(0);}
    100%{transform:translateX(-25%);}
}

.dashboard{
    position:relative;
    width:900px;
    padding:30px;
    border-radius:25px;
    background:rgba(255,255,255,0.15);
    backdrop-filter:blur(20px);
    box-shadow:0 15px 40px rgba(0,0,0,0.3);
    z-index:1;
}

h1{text-align:center;}

.search{
    display:flex;
    justify-content:center;
    gap:10px;
    margin:20px 0;
}

.search input{
    width:300px;
    padding:12px;
    border-radius:30px;
    border:none;
    outline:none;
}

.search button{
    padding:12px 20px;
    border-radius:30px;
    border:none;
    background:#4da6ff;
    color:white;
    cursor:pointer;
    font-weight:bold;
}

.weather-main{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:20px;
}

.temp{
    font-size:70px;
    font-weight:bold;
}

.details{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:15px;
    margin-top:25px;
}

.box{
    background:rgba(255,255,255,0.2);
    padding:15px;
    border-radius:15px;
    text-align:center;
}

.error{
    text-align:center;
    margin-top:15px;
    color:#ffcccc;
}
</style>
</head>

<body>

<div class="dashboard">

<h1>ðŸŒ¤ Premium Weather Dashboard</h1>

<div class="search">
    <input type="text" id="cityInput" placeholder="Enter city name">
    <button onclick="getWeather()">Search</button>
</div>

<div class="weather-main">
    <div>
        <h2 id="cityName">--</h2>
        <div class="temp" id="temperature">--</div>
        <div id="condition"></div>
    </div>
</div>

<div class="details">
    <div class="box">Wind Speed<br><span id="wind"></span></div>
    <div class="box">Weather Code<br><span id="code"></span></div>
    <div class="box">Humidity<br><span id="humidity"></span></div>
</div>

<div class="error" id="error"></div>

</div>

<script>

function weatherText(code){
    if(code === 0) return "Clear Sky â˜€";
    if(code <= 3) return "Cloudy â˜";
    if(code <= 67) return "Rainy ðŸŒ§";
    if(code <= 77) return "Snow â„";
    return "Unknown";
}

async function getWeather(){

    const city = document.getElementById("cityInput").value.trim();
    const errorBox = document.getElementById("error");

    if(city === ""){
        errorBox.innerHTML = "Enter city name!";
        return;
    }

    try{

        const geoResponse = await fetch(
            `https://geocoding-api.open-meteo.com/v1/search?name=${city}`
        );
        const geoData = await geoResponse.json();

        if(!geoData.results){
            errorBox.innerHTML = "City not found!";
            return;
        }

        const lat = geoData.results[0].latitude;
        const lon = geoData.results[0].longitude;
        const cityName = geoData.results[0].name;
        const country = geoData.results[0].country;

        const weatherResponse = await fetch(
            `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&hourly=relativehumidity_2m`
        );
        const weatherData = await weatherResponse.json();

        errorBox.innerHTML = "";

        document.getElementById("cityName").innerHTML =
            cityName + ", " + country;

        document.getElementById("temperature").innerHTML =
            weatherData.current_weather.temperature + "Â°C";

        document.getElementById("condition").innerHTML =
            weatherText(weatherData.current_weather.weathercode);

        document.getElementById("wind").innerHTML =
            weatherData.current_weather.windspeed + " km/h";

        document.getElementById("code").innerHTML =
            weatherData.current_weather.weathercode;

        document.getElementById("humidity").innerHTML =
            weatherData.hourly.relativehumidity_2m[0] + "%";

    }
    catch{
        errorBox.innerHTML = "Network error!";
    }
}

</script>

</body>
</html>
